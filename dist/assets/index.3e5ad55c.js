import{o as e,c as t,a as o,w as s,b as a,v as n,t as l,d as r,F as i,r as u,e as c,f as d}from"./vendor.182d0b18.js";const p={el:"#app",data:function(){return{amount:"",to:"",info:"",date:"",total:0,error:!1,expenses:[]}},methods:{addExpense:function(){if(this.checkForm())this.error=!0;else{const e={amount:this.amount,to:this.to,info:this.info,date:this.date};this.amount="",this.to="",this.info="",this.date="",this.expenses.unshift(e),localStorage.setItem("q-vue-expenses",JSON.stringify(this.expenses)),this.getTotal()}},clearExpenses:function(){this.expenses=[],this.total=0,localStorage.setItem("q-vue-expenses",JSON.stringify(this.expenses))},getTotal:function(){let e=0;this.expenses.forEach((t=>{e+=Math.abs(t.amount)})),this.total=e},checkForm:function(){return""===this.amount||""===this.to||""===this.info||""===this.data},getCsv:function(){let e=JSON.parse(localStorage.getItem("q-vue-expenses")),t=[];e.forEach((e=>{t.push({amount:e.amount,to:e.to,info:e.info,date:e.date})}));this.exportCSVFile({amount:"Amount",to:"For",info:"Info",date:"Date"},t,"Expenses")},convertToCSV:function(e){for(var t="object"!=typeof e?JSON.parse(e):e,o="",s=0;s<t.length;s++){var a="";for(var n in t[s])""!=a&&(a+=","),a+=t[s][n];o+=a+"\r\n"}return o},exportCSVFile:function(e,t,o){e&&t.unshift(e);var s=JSON.stringify(t),a=this.convertToCSV(s),n=o+".csv"||"export.csv",l=new Blob([a],{type:"text/csv;charset=utf-8;"});if(navigator.msSaveBlob)navigator.msSaveBlob(l,n);else{var r=document.createElement("a");if(void 0!==r.download){var i=URL.createObjectURL(l);r.setAttribute("href",i),r.setAttribute("download",n),r.style.visibility="hidden",document.body.appendChild(r),r.click(),document.body.removeChild(r)}}}},created:function(){localStorage.getItem("q-vue-expenses")?this.expenses=JSON.parse(localStorage.getItem("q-vue-expenses")):localStorage.setItem("q-vue-expenses",JSON.stringify([])),this.getTotal()}},h={id:"app"},f=o("h1",{class:"title"},"EXPENSE TRACKER",-1),m=o("p",{class:"abt"},[o("q",null,"This expense tracker helps you track your expenses for as long as you wish. Whenever you wish to start tracking afresh (This can be after a week or a month or any period of time), click on the clear records button to clear everything. Click on the 'Export as CSV button to export the records as a .csv file' "),o("small",null," -- Manaswini")],-1),v={class:"flex"},x={class:"flex_content flex_form"},b=o("label",{for:"amount"},"Amount",-1),g=o("label",{for:"to"},"To",-1),y=o("label",{for:"note"},"Note",-1),S=o("label",{for:"date"},"Date",-1),E=o("button",{class:"btn btn_success",type:"submit"},"Add expense",-1),C={class:"flex_content flex_expenses"},k=o("h2",{class:"head"},"Expenses",-1),T={class:"total"},V=o("h3",null,"TOTAL",-1),q={key:0},N={key:1},w={key:2},O={class:"expense"},A={class:"to"},I=o("b",null,"To:",-1),J={class:"date"},_=o("b",null,"Date:",-1),F={class:"amnt"},M=o("b",null,"Amount:",-1),U={class:"note"},R=o("b",null,"Note:",-1);p.render=function(d,p,$,j,B,D){return e(),t("div",h,[f,m,o("div",v,[o("div",x,[o("form",{onSubmit:p[7]||(p[7]=s(((...e)=>D.addExpense&&D.addExpense(...e)),["prevent"])),class:"form"},[b,a(o("input",{type:"number",id:"amount","onUpdate:modelValue":p[1]||(p[1]=e=>d.amount=e),autocomplete:"off",required:""},null,512),[[n,d.amount,void 0,{number:!0}]]),g,a(o("input",{type:"text",id:"to","onUpdate:modelValue":p[2]||(p[2]=e=>d.to=e),autocomplete:"off",required:""},null,512),[[n,d.to]]),y,a(o("textarea",{id:"note",rows:"5","onUpdate:modelValue":p[3]||(p[3]=e=>d.info=e)},null,512),[[n,d.info]]),S,a(o("input",{type:"date",id:"date","onUpdate:modelValue":p[4]||(p[4]=e=>d.date=e),required:""},null,512),[[n,d.date]]),E,o("button",{class:"btn btn_danger",onClick:p[5]||(p[5]=s(((...e)=>D.clearExpenses&&D.clearExpenses(...e)),["prevent"]))},"Clear record"),o("button",{class:"btn btn_primary",onClick:p[6]||(p[6]=s(((...e)=>D.getCsv&&D.getCsv(...e)),["prevent"]))},"Export as .csv")],32)]),o("div",C,[k,o("div",T,[V,d.total>0&&Math.abs(d.total)!==Math.floor(d.total)?(e(),t("h3",q,"$"+l(d.total),1)):r("",!0),Math.abs(d.total)===Math.floor(d.total)?(e(),t("h3",N,"$"+l(d.total)+".0",1)):(e(),t("h3",w,"$0.0"))]),(e(!0),t(i,null,u(d.expenses,(s=>(e(),t("div",O,[o("p",A,[I,c(" "+l(s.to),1)]),o("p",J,[_,c(" "+l(s.date),1)]),o("p",F,[M,c(" $"+l(s.amount),1)]),o("p",U,[R,c(" "+l(s.info),1)])])))),256))])])])};d({setup:o=>(o,s)=>(e(),t(p,{msg:"Hello Vue 3 + Vite"}))}).mount("#app");
